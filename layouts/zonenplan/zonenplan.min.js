var svgPanZoom,Hammer;!function($,o){var e=$("#zonenplan-svg"),t=[],n=0;e.on("mousedown","polygon, circle, polyline",function(){n=0}),e.on("mousemove","polygon, circle, polyline",function(){n=1}),e.on("mouseup","polygon, circle, polyline",function(){0===n&&$(this).trigger("regionClicked"),n=0}),e.on("regionClicked","polygon, circle, polyline",function(o){o.preventDefault();var e=$(this).attr("id");if(e){this.classList.toggle("act"),this.classList.contains("act")?t["zone"+e]=e:delete t["zone"+e];var n=$(this).closest(".svg-holder");Object.keys(t).length>0?n.addClass("act"):n.removeClass("act")}});var i;i={haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(o){var e=o.instance,t=1,n=0,i=0;this.hammer=new Hammer(o.svgElement,{inputClass:Hammer.SUPPORT_POINTER_EVENTS?Hammer.PointerEventInput:Hammer.TouchInput}),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("panstart panmove",function(o){"panstart"===o.type&&(n=0,i=0),e.panBy({x:o.deltaX-n,y:o.deltaY-i}),n=o.deltaX,i=o.deltaY}),this.hammer.on("pinchstart pinchmove",function(o){"pinchstart"===o.type&&(t=e.getZoom(),e.zoom(t*o.scale)),e.zoom(t*o.scale)}),o.svgElement.addEventListener("touchmove",function(o){o.preventDefault()})},destroy:function(){this.hammer.destroy()}};var a={zoomEnabled:!0,controlIconsEnabled:!1,fit:!0,center:!0,dblClickZoomEnabled:!1,zoomScaleSensitivity:.1,minZoom:1,maxZoom:6,customEventsHandler:i,beforePan:function(o,t){var n=e.width(),i=e.height(),a=this.getSizes(),m=-((a.viewBox.x+a.viewBox.width)*a.realZoom)+n,s=a.width-n-a.viewBox.x*a.realZoom,c=-((a.viewBox.y+a.viewBox.height)*a.realZoom)+i,l=a.height-i-a.viewBox.y*a.realZoom,r={};return r.x=Math.max(m,Math.min(s,t.x)),r.y=Math.max(c,Math.min(l,t.y)),r}},m=svgPanZoom("#zonenplan-svg",a);$(".zoomies").on("click.zoomies",".zoom-in",function(){m.zoomIn()}),$(".zoomies").on("click.zoomies",".zoom-out",function(){m.zoomOut()})}(jQuery);